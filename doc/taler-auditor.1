.Dd March 20, 2017
.Dt TALER-AUDITOR 1
.Os
.Sh NAME
.Nm taler-auditor
.Nd
Audit exchange
.Sh SYNOPSIS
.Nm
.Op Fl h | \-help
.Op Fl m Ar MASTER_KEY | Fl \-exchange-key= Ns Ar MASTER_KEY
.Op Fl r | \-reset
.Sh DESCRIPTION
.Nm
is a command line tool to be used by an auditor to audit an exchange's database and calculate the current financial state of the exchange (including revenue, amount expected in escrow and risk exposure).
The audit is incremental.
The first audit must be performed with the
.Fl r
option to initialize the tables.
The tool reports inconsistencies in the balance or incorrect cryptographic signatures found in the database.
It does NOT check with the bank to see that the incoming and outgoing wire transfers that the bank claims to have matches the exchange's database.
Its options are as follows.
.Bl -tag -wdith Ds
.It Fl h | \-help
Print short help on options.
.It Fl m Ar KEY | Fl \-exchange-key= Ns Ar KEY
Public master key of the exchange in Crockford base32 encoding, for example as generated by gnunet-ecc -p.
If this option is missing, taler-auditor will use the MASTER_PUBLIC_KEY value from the "exchange" section of the configuration.
.It Fl r | \-reset
Reset the audit, starts everything from the beginning.
Useful for testing and required for the first audit to setup auditor's tables.
Note that if (just) the exchange key changes, the
.Fl r
option should not be used again.
.Sh SEE ALSO
.Xr gnunet-ecc 1 ,
.Xr taler-auditor-sign 1 ,
.Xr taler.conf 5
.Sh BUGS
Report bugs by using
.Lk https://bugs.gnunet.org
or by sending electronic mail to
.Aq Mt taler@gnu.org .
