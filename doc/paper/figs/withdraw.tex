\begin{SCfigure}
    \begin{minipage}[b]{0.45\linewidth}
        \begin{tikzpicture}[scale = 0.4,
            transform shape,
            msglabel/.style    = { text = Black, yshift = .3cm,
                                   sloped, midway },
            okmsg/.style       = { ->, color = MidnightBlue, thick,
                                   >=stealth },
            rstmsg/.style      = { ->, color = BrickRed, thick,
                                   >=stealth }
          ]
          \node[draw = MidnightBlue,
            fill = CornflowerBlue,
            minimum width = .3cm,
            minimum height = 10cm
          ] (h1) at (-4, 0) {};
          \node[draw = MidnightBlue,
            fill = CornflowerBlue,
            minimum width = .3cm,
            minimum height = 10cm
          ] (h2) at (4, 0) {};
          \node[above = 0cm of h1] {Wallet};
          \node[above = 0cm of h2] {Exchange};

          \path[->, color = MidnightBlue, very thick, >=stealth]
            (-5, 4.5) edge
            node[rotate=90, text = Black, yshift = .3cm] {Time}
            (-5, -4.5);
          \path[okmsg, dashed]
             ($(h1.east)+(0, 4.0)+(0, -1.0)$) edge
             node[msglabel] {SEPA(RK,A)}
             ($(h2.west)+(0, 3.5)+(0, -1.0)$);
          \path[okmsg]
            ($(h1.east)+(0, -1.0)$) edge
            node[msglabel] {$S_{RK}(DK, B_b(C))$}
            ($(h2.west)+(0, -1.5)$);
          \path[okmsg]
            ($(h2.west)+(0, -2.0)$) edge
            node[msglabel] {200 OK: $S_{DK}(B_b(C))$)}
            ($(h1.east)+(0, -2.5)$);
          \path[rstmsg]
            ($(h2.west)+(0, -3.5)$) edge
            node[msglabel] {402 PAYMENT REQUIRED: $S_{RK}(DK, B_b(C))$)}
            ($(h1.east)+(0, -4)$);
          \node at (5.3, 0) {};
        \end{tikzpicture}
    \end{minipage}
\end{SCfigure}

